<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription | BMJ.SERVICE</title>

<!-- Font Awesome pour icônes réseaux -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous"/>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: Arial, Helvetica, sans-serif; }
body {
    background: url("https://images.unsplash.com/photo-1522202176988-66273c2fd55f") no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* HEADER */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 8%;
    background: rgba(11,28,45,0.9);
    position: relative;
    z-index: 1000;
}
.logo { font-size: 24px; font-weight: bold; color: #00e5ff; }
.menu-icon { font-size: 26px; cursor: pointer; }
.menu {
    position: absolute;
    top: 60px;
    right: 8%;
    background: rgba(0,0,0,0.85);
    border: 1px solid #00e5ff;
    border-radius: 10px;
    display: none;
    flex-direction: column;
    width: 160px;
    z-index: 1000;
}
.menu a {
    padding: 15px;
    text-decoration: none;
    color: #fff;
    text-align: center;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}
.menu a:hover { background:#00e5ff; color:#000; }

/* FORM CONTAINER */
.container {
    background: rgba(0,0,0,0.7);
    padding: 30px;
    border: 2px solid #00e5ff;
    border-radius: 15px;
    width: 360px;
    margin: 50px auto;
    text-align: center;
}
.container h2 {
    margin-bottom: 20px;
    color: #00e5ff;
}
input {
    width: 85%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 10px;
    border: none;
    font-size: 1rem;
}
button {
    width: 60%;
    padding: 12px 0;
    margin-top: 15px;
    border-radius: 10px;
    border: none;
    font-weight: bold;
    background-color: gold;
    color: black;
    cursor: pointer;
    transition: all 0.3s ease;
}
button:hover { background-color: orange; transform: scale(1.05); }
p.msg { margin-top: 10px; color: #ff0; font-weight:bold; }
a.btn-link {
    display:inline-block;
    margin: 10px;
    padding:8px 15px;
    background: #00e5ff;
    color:#000;
    border-radius:8px;
    text-decoration:none;
    font-weight:bold;
    transition:0.3s;
}
a.btn-link:hover { background:#008fb3; color:#fff; }

/* FOOTER SOCIALS */
footer.socials {
    background: rgba(11,28,45,0.85);
    padding: 15px;
    text-align: center;
    margin-top:auto;
}
footer.socials a {
    display: inline-block;
    margin: 0 10px;
    font-size: 28px;
    color: #fff;
    transition: transform 0.3s;
}
footer.socials a:hover { transform: scale(1.2); color: #00e5ff; }

</style>
</head>
<body>

<header>
    <div class="logo">BMJ.SERVICE</div>
    <div class="menu-icon" onclick="toggleMenu()">☰</div>
    <div class="menu" id="menu">
        <a href="index.html">Accueil</a>
        <a href="connexion.html">Connexion</a>
    </div>
</header>

<div class="container">
    <h2>Créer un compte</h2>

    <input type="text" id="nom" placeholder="Nom">
    <input type="text" id="postnom" placeholder="Postnom">
    <input type="email" id="email" placeholder="Adresse mail">
    <input type="password" id="password" placeholder="Mot de passe">
    <input type="password" id="confirmPassword" placeholder="Confirmer mot de passe">
    <input type="text" id="phone" placeholder="Numéro de téléphone">

    <button onclick="register()">S'inscrire</button>
    <p class="msg" id="msg"></p>

    <div>
        <a href="connexion.html" class="btn-link">Connexion</a>
        <a href="index.html" class="btn-link">Retour</a>
    </div>
</div>

<footer class="socials">
    <a href="https://wa.me/243993585711" target="_blank"><i class="fab fa-whatsapp"></i></a>
    <a href="https://www.instagram.com/greatman9609" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.tiktok.com/@bmjreussir" target="_blank"><i class="fab fa-tiktok"></i></a>
    <a href="https://youtube.com/@justinmussiwa?si=9NxCJ6VUf39Je03k" target="_blank"><i class="fab fa-youtube"></i></a>
    <a href="https://www.linkedin.com/posts/justin-mussiwa-167b8a331_cest-%C3%A0-vous-de-prendre-conscience-activity-7341023134810017792-ogV-" target="_blank"><i class="fab fa-linkedin-in"></i></a>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
function toggleMenu(){
    const menu = document.getElementById("menu");
    menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
}

function register(){
    const nom = document.getElementById("nom").value.trim();
    const postnom = document.getElementById("postnom").value.trim();
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirmPassword").value;
    const phone = document.getElementById("phone").value.trim();
    const msg = document.getElementById("msg");

    // Validation Nom/Postnom : première lettre majuscule, pas de chiffre
    const nameRegex = /^[A-Z][a-zA-Z]*$/;
    if(!nameRegex.test(nom) || !nameRegex.test(postnom)){
        msg.textContent = "Nom et Postnom doivent commencer par une majuscule et sans chiffres.";
        return;
    }

    // Email et téléphone obligatoires
    if(!email || !phone){
        msg.textContent = "Veuillez remplir tous les champs.";
        return;
    }

    // Mot de passe
    const passRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
    if(!passRegex.test(password)){
        msg.textContent = "Mot de passe doit contenir lettres et chiffres (min 6 caractères).";
        return;
    }

    if(password !== confirmPassword){
        msg.textContent = "Les mots de passe ne correspondent pas.";
        return;
    }

    // Génération de la fiche d'inscription PDF
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.setFillColor(0, 30, 60);
    doc.rect(0,0,210,297,'F');
    doc.setTextColor(255,255,255);
    doc.setFontSize(22);
    doc.text("BMJ.SERVICE - Fiche d'inscription", 20, 30);
    doc.setFontSize(16);
    doc.text(`Nom: ${nom}`, 20, 50);
    doc.text(`Postnom: ${postnom}`, 20, 60);
    doc.text(`Email: ${email}`, 20, 70);
    doc.text(`Téléphone: ${phone}`, 20, 80);
    doc.text(`Date d'inscription: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`, 20, 90);
    doc.text(`Responsable: JUSTIN MUSSIWA`, 20, 100);
    doc.text("Bienvenue sur notre plateforme, nous vous souhaitons plein succès dans vos formations et projets professionnels.", 20, 120, {maxWidth:170});
    doc.text("Signature:", 20, 160);

    doc.save(`fiche_inscription_${nom}.pdf`);

    // Redirection vers tableau de bord
    window.location.href = "tableau_de_bord.html";
}
</script>
</body>
</html>